<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Algebra</title>
</head>


<body>
<div class="head">
<h1>Theory Algebra</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>Algebra</span><span> </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Signature.html"><span>Signature</span></a><span> </span><a href="Quotients.html"><span>Quotients</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Abstraction Algebra</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>
  </span><span>We will abbreviate </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>emph</span></span><span> </span><span class="plain_text"><span>‹</span><span>Abstraction Algebra</span><span>›</span></span><span class="antiquote"><span>}</span></span></span><span> by leaving the prefix  
</span><span>  </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>emph</span></span><span> </span><span class="plain_text"><span>‹</span><span>Algebra</span><span>›</span></span><span class="antiquote"><span>}</span></span></span><span> implicit, and just saying </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>emph</span></span><span> </span><span class="plain_text"><span>‹</span><span>Algebra</span><span>›</span></span><span class="antiquote"><span>}</span></span></span><span> instead.</span><span> 
</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Operations and Operators as Quotients</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="entity_def" id="Algebra.operation|type"><span>operation</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>list</span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="entity_def" id="Algebra.operator|type"><span>operator</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operation|type"><span>operation</span></a><span> </span><span>list</span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Algebra.operations_def|fact"><span class="entity_def" id="Algebra.operations_def|thm"><span class="entity_def" id="Algebra.operations_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Algebra.operations|const"><span>operations</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Quotients.html#Quotients.quotient|type"><span>quotient</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>nat</span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operation|type"><span>operation</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Quotients.html#Quotients.quotient|type"><span>quotient</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>operations</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.vector_quotient|const"><span>/^</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.fun_quotient|const"><span>/⇒</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Algebra.operators_def|fact"><span class="entity_def" id="Algebra.operators_def|thm"><span class="entity_def" id="Algebra.operators_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Algebra.operators|const"><span>operators</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Quotients.html#Quotients.quotient|type"><span>quotient</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Shape.html#Shape.shape|type"><span>shape</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operator|type"><span>operator</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Quotients.html#Quotients.quotient|type"><span>quotient</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>operators</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.tuple_quotient|const"><span>/×</span></a></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span> </span><span class="bound"><span>deps</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operations|const"><span>operations</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="main"><span>(</span></span><span>card</span><span> </span><span class="bound"><span>deps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Shape.html#Shape.shape.Preshape|const"><span>Preshape</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.fun_quotient|const"><span>/⇒</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Algebra.value_op_def|fact"><span class="entity_def" id="Algebra.value_op_def|thm"><span class="entity_def" id="Algebra.value_op_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Algebra.value_op|const"><span>value_op</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operation|type"><span>operation</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>value_op</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><span>)</span></span><span> </span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Algebra.operators_appeq_intro|fact"><span class="entity_def" id="Algebra.operators_appeq_intro|thm"><span>operators_appeq_intro</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>FG</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>=</span></a></span><span> </span><span class="free"><span>G</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>(mod</span></a></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operators|const"><span>operators</span></a><span> </span><span class="free"><span>𝒰</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>lenfs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>fs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Shape.html#Shape.shape_arity|const"><span>§ar</span></a></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>lengs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>gs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Shape.html#Shape.shape_arity|const"><span>§ar</span></a></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>fsgs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Shape.html#Shape.shape_arity|const"><span>§ar</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>fs</span></span><span class="main"><span>!</span></span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>=</span></a></span><span> </span><span class="free"><span>gs</span></span><span class="main"><span>!</span></span><span class="bound"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>(mod</span></a></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operations|const"><span>operations</span></a><span> </span><span class="free"><span>𝒰</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="Shape.html#Shape.shape_deps_card|const"><span>.#</span></a></span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>)</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>F</span></span><span> </span><span class="free"><span>fs</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>=</span></a></span><span> </span><span class="free"><span>G</span></span><span> </span><span class="free"><span>gs</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>(mod</span></a></span><span> </span><span class="free"><span>𝒰</span></span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>)</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>appeq</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>=</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>(mod</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.tuple_quotient|const"><span>/×</span></a></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>deps</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operations|const"><span>operations</span></a><span> </span><span class="free"><span>𝒰</span></span><span> </span><span class="main"><span>(</span></span><span>card</span><span> </span><span class="bound"><span>deps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Shape.html#Shape.shape.Preshape|const"><span>Preshape</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>)</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>=</span></a></span><span> </span><span class="free"><span>G</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>(mod</span></a></span><span> </span><span class="free"><span>𝒰</span></span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>)</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>FG</span><span class="main"><span>[</span></span><span class="operator"><span>simplified</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operators_def|fact"><span>operators_def</span></a><span> </span><a class="entity_ref" href="Quotients.html#Quotients.fun_quotient_mod|fact"><span>fun_quotient_mod</span></a><span> </span><a class="entity_ref" href="Quotients.html#Quotients.qequal_fun_def|fact"><span>qequal_fun_def</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>appeq</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Quotients.html#Quotients.tuple_quotient_mod|fact"><span>tuple_quotient_mod</span></a><span> </span><a class="entity_ref" href="Quotients.html#Quotients.qequal_tuple_def|fact"><span>qequal_tuple_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>fsgs</span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>lenfs</span><span> </span><a class="entity_ref" href="Shape.html#Shape.shape_arity_def|fact"><span>shape_arity_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>lengs</span><span> </span><a class="entity_ref" href="Shape.html#Shape.shape_arity_def|fact"><span>shape_arity_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>fsgs</span><span> </span><a class="entity_ref" href="Shape.html#Shape.shape_arity_def|fact"><span>shape_arity_def</span></a><span> </span><a class="entity_ref" href="Shape.html#Shape.shape_deps_def|fact"><span>shape_deps_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>    
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Algebra.operator_appeq_intro|fact"><span class="entity_def" id="Algebra.operator_appeq_intro|thm"><span>operator_appeq_intro</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>F</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qin|const"><span>/∈</span></a></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operators|const"><span>operators</span></a><span> </span><span class="free"><span>𝒰</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>lenfs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>fs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Shape.html#Shape.shape_arity|const"><span>§ar</span></a></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>lengs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>gs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Shape.html#Shape.shape_arity|const"><span>§ar</span></a></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>fsgs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Shape.html#Shape.shape_arity|const"><span>§ar</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>fs</span></span><span class="main"><span>!</span></span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>=</span></a></span><span> </span><span class="free"><span>gs</span></span><span class="main"><span>!</span></span><span class="bound"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>(mod</span></a></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operations|const"><span>operations</span></a><span> </span><span class="free"><span>𝒰</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="Shape.html#Shape.shape_deps_card|const"><span>.#</span></a></span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>)</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>F</span></span><span> </span><span class="free"><span>fs</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>=</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>gs</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>(mod</span></a></span><span> </span><span class="free"><span>𝒰</span></span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>F</span><span> </span><span>fsgs</span><span> </span><span>lenfs</span><span> </span><span>lengs</span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operators_appeq_intro|fact"><span>operators_appeq_intro</span></a><span> </span><a class="entity_ref" href="Quotients.html#Quotients.qin_mod|fact"><span>qin_mod</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Algebra.operations_eq_intro|fact"><span class="entity_def" id="Algebra.operations_eq_intro|thm"><span>operations_eq_intro</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>us</span></span><span> </span><span class="bound"><span>vs</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>us</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>=</span></a></span><span> </span><span class="bound"><span>vs</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>(mod</span></a></span><span> </span><span class="free"><span>𝒰</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.vector_quotient|const"><span>/^</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>)</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>us</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>=</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>vs</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>(mod</span></a></span><span> </span><span class="free"><span>𝒰</span></span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>=</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>(mod</span></a></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operations|const"><span>operations</span></a><span> </span><span class="free"><span>𝒰</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>assms</span><span> </span><a class="entity_ref" href="Quotients.html#Quotients.fun_quotient_mod|fact"><span>fun_quotient_mod</span></a><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operations_def|fact"><span>operations_def</span></a><span> </span><a class="entity_ref" href="Quotients.html#Quotients.qequal_fun_def|fact"><span>qequal_fun_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Algebra.operations_mod|fact"><span class="entity_def" id="Algebra.operations_mod|thm"><span>operations_mod</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>=</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>(mod</span></a></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operations|const"><span>operations</span></a><span> </span><span class="free"><span>𝒰</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>us</span></span><span> </span><span class="bound"><span>vs</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>us</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>=</span></a></span><span> </span><span class="bound"><span>vs</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>(mod</span></a></span><span> </span><span class="free"><span>𝒰</span></span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.vector_quotient|const"><span>/^</span></a></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>)</span></a></span><span> </span><span class="main"><span>⟶</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>us</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>=</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>vs</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>(mod</span></a></span><span> </span><span class="free"><span>𝒰</span></span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qequals|const"><span>)</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Quotients.html#Quotients.fun_quotient_app_mod|fact"><span>fun_quotient_app_mod</span></a><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operations_def|fact"><span>operations_def</span></a><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operations_eq_intro|fact"><span>operations_eq_intro</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Compatibility of Shape and Operator</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Algebra.shape_compatible_def|fact"><span class="entity_def" id="Algebra.shape_compatible_def|thm"><span class="entity_def" id="Algebra.shape_compatible_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Algebra.shape_compatible|const"><span>shape_compatible</span></span></span><span>  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Quotients.html#Quotients.quotient|type"><span>quotient</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Shape.html#Shape.shape|type"><span>shape</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operator|type"><span>operator</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>shape_compatible</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>op</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>op</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.qin|const"><span>/∈</span></a></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operators|const"><span>operators</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Algebra.shape_compatible_opt_def|fact"><span class="entity_def" id="Algebra.shape_compatible_opt_def|thm"><span class="entity_def" id="Algebra.shape_compatible_opt_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Algebra.shape_compatible_opt|const"><span>shape_compatible_opt</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Quotients.html#Quotients.quotient|type"><span>quotient</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Shape.html#Shape.shape|type"><span>shape</span></a><span> </span><span>option</span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operator|type"><span>operator</span></a><span> </span><span>option</span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>shape_compatible_opt</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>op</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>None</span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>op</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>None</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span>None</span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>op</span></span></span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span>None</span><span> </span><span class="main"><span>∧</span></span><span> 
     </span><a class="entity_ref" href="Algebra.html#Algebra.shape_compatible|const"><span>shape_compatible</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>op</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Abstraction Algebras</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="entity_def" id="Algebra.operators|type"><span>operators</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Signature.html#Signature.abstraction|type"><span>abstraction</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operator|type"><span>operator</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="General.html#General.map|type"><span>map</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="entity_def" id="Algebra.prealgebra|type"><span>prealgebra</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Quotients.html#Quotients.quotient|type"><span>quotient</span></a><span> </span><span class="main"><span>×</span></span><span> </span><a class="entity_ref" href="Signature.html#Signature.signature|type"><span>signature</span></a><span> </span><span class="main"><span>×</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operators|type"><span>operators</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Algebra.is_algebra_def|fact"><span class="entity_def" id="Algebra.is_algebra_def|thm"><span class="entity_def" id="Algebra.is_algebra_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Algebra.is_algebra|const"><span>is_algebra</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.prealgebra|type"><span>prealgebra</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>is_algebra</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>paa</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> 
     </span><span class="main"><span>(</span></span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>U</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>fst</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>paa</span></span></span></span><span> </span><span class="keyword1"><span>in</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>sig</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>(</span></span><span>snd</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>paa</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>in</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>ops</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>snd</span><span> </span><span class="main"><span>(</span></span><span>snd</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>paa</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>in</span></span><span>
      </span><span class="bound"><span>U</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.empty_quotient|const"><span>/∅</span></a></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.shape_compatible_opt|const"><span>shape_compatible_opt</span></a><span> </span><span class="bound"><span>U</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>sig</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ops</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Algebra.trivial_prealgebra_def|fact"><span class="entity_def" id="Algebra.trivial_prealgebra_def|thm"><span class="entity_def" id="Algebra.trivial_prealgebra_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Algebra.trivial_prealgebra|const"><span>trivial_prealgebra</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.prealgebra|type"><span>prealgebra</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>trivial_prealgebra</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Quotients.html#Quotients.univ_quotient|const"><span>/𝒰</span></a></span><span class="main"><span>,</span></span><span> </span><span>Map.empty</span><span class="main"><span>,</span></span><span> </span><span>Map.empty</span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Algebra.trivial_prealgebra|fact"><span class="entity_def" id="Algebra.trivial_prealgebra|thm"><span>trivial_prealgebra</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Algebra.html#Algebra.is_algebra|const"><span>is_algebra</span></a><span> </span><a class="entity_ref" href="Algebra.html#Algebra.trivial_prealgebra|const"><span>trivial_prealgebra</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Quotients.html#Quotients.empty_quotient_in|fact"><span>empty_quotient_in</span></a><span> </span><span>fst_conv</span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.is_algebra_def|fact"><span>is_algebra_def</span></a><span> 
      </span><a class="entity_ref" href="Algebra.html#Algebra.shape_compatible_opt_def|fact"><span>shape_compatible_opt_def</span></a><span> </span><span>snd_conv</span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.trivial_prealgebra_def|fact"><span>trivial_prealgebra_def</span></a><span> </span><a class="entity_ref" href="Quotients.html#Quotients.univ_quotient_in|fact"><span>univ_quotient_in</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Algebra.arity_typerep_algebra|fact"><span class="entity_def" id="Algebra.typerep_algebra_def|fact"><span class="entity_def" id="Algebra.typerep_algebra_inst.typerep_algebra|fact"><span class="entity_def" id="Algebra.algebra.type_definition_algebra|fact"><span class="entity_def" id="Algebra.arity_type_algebra|fact"><span class="entity_def" id="Algebra.arity_typerep_algebra|thm"><span class="entity_def" id="Algebra.typerep_algebra_def|thm"><span class="entity_def" id="Algebra.typerep_algebra_inst.typerep_algebra|thm"><span class="entity_def" id="Algebra.algebra.type_definition_algebra|thm"><span class="entity_def" id="Algebra.arity_type_algebra|thm"><span class="entity_def" id="Algebra.typerep_algebra_def_raw|axiom"><span class="entity_def" id="Algebra.typerep_algebra_inst.typerep_algebra_def|axiom"><span class="entity_def" id="Algebra.algebra.type_definition_algebra|axiom"><span class="entity_def" id="Algebra.arity_type_algebra|axiom"><span class="entity_def" id="Algebra.typerep_algebra_inst.typerep_algebra|const"><span>typedef</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="entity_def" id="Algebra.algebra|type"><span>algebra</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>aa</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.prealgebra|type"><span>prealgebra</span></a><span> </span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.is_algebra|const"><span>is_algebra</span></a><span> </span><span class="bound"><span>aa</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>morphisms</span></span></span><span> </span><span class="entity_def" id="Algebra.algebra.Prealgebra_induct|fact"><span class="entity_def" id="Algebra.algebra.Prealgebra_cases|fact"><span class="entity_def" id="Algebra.algebra.Prealgebra_inject|fact"><span class="entity_def" id="Algebra.algebra.Prealgebra_inverse|fact"><span class="entity_def" id="Algebra.algebra.Prealgebra|fact"><span class="entity_def" id="Algebra.algebra.Prealgebra_induct|thm"><span class="entity_def" id="Algebra.algebra.Prealgebra_cases|thm"><span class="entity_def" id="Algebra.algebra.Prealgebra_inject|thm"><span class="entity_def" id="Algebra.algebra.Prealgebra_inverse|thm"><span class="entity_def" id="Algebra.algebra.Prealgebra|thm"><span class="entity_def" id="Algebra.algebra.Prealgebra|const"><span>Prealgebra</span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Algebra.algebra.Algebra_induct|fact"><span class="entity_def" id="Algebra.algebra.Algebra_cases|fact"><span class="entity_def" id="Algebra.algebra.Algebra_inject|fact"><span class="entity_def" id="Algebra.algebra.Algebra_inverse|fact"><span class="entity_def" id="Algebra.algebra.Algebra_induct|thm"><span class="entity_def" id="Algebra.algebra.Algebra_cases|thm"><span class="entity_def" id="Algebra.algebra.Algebra_inject|thm"><span class="entity_def" id="Algebra.algebra.Algebra_inverse|thm"><span class="entity_def" id="Algebra.algebra.Algebra|const"><span>Algebra</span></span></span></span></span></span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.trivial_prealgebra|fact"><span>trivial_prealgebra</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Algebra.Univ_def|fact"><span class="entity_def" id="Algebra.Univ_def|thm"><span class="entity_def" id="Algebra.Univ_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Algebra.Univ|const"><span>Univ</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.algebra|type"><span>algebra</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Quotients.html#Quotients.quotient|type"><span>quotient</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Univ</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>aa</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Algebra.html#Algebra.algebra.Prealgebra|const"><span>Prealgebra</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>aa</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Algebra.Sig_def|fact"><span class="entity_def" id="Algebra.Sig_def|thm"><span class="entity_def" id="Algebra.Sig_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Algebra.Sig|const"><span>Sig</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.algebra|type"><span>algebra</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Signature.html#Signature.signature|type"><span>signature</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Sig</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>aa</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>(</span></span><span>snd</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Algebra.html#Algebra.algebra.Prealgebra|const"><span>Prealgebra</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>aa</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Algebra.Ops_def|fact"><span class="entity_def" id="Algebra.Ops_def|thm"><span class="entity_def" id="Algebra.Ops_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Algebra.Ops|const"><span>Ops</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.algebra|type"><span>algebra</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.operators|type"><span>operators</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ops</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>aa</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>snd</span><span> </span><span class="main"><span>(</span></span><span>snd</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Algebra.html#Algebra.algebra.Prealgebra|const"><span>Prealgebra</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>aa</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Algebra.Prealgebra_components|fact"><span class="entity_def" id="Algebra.Prealgebra_components|thm"><span>Prealgebra_components</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Algebra.html#Algebra.algebra.Prealgebra|const"><span>Prealgebra</span></a><span> </span><span class="free"><span>aa</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Algebra.html#Algebra.Univ|const"><span>Univ</span></a><span> </span><span class="free"><span>aa</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.Sig|const"><span>Sig</span></a><span> </span><span class="free"><span>aa</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.Ops|const"><span>Ops</span></a><span> </span><span class="free"><span>aa</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.Ops_def|fact"><span>Ops_def</span></a><span> </span><a class="entity_ref" href="Algebra.html#Algebra.Sig_def|fact"><span>Sig_def</span></a><span> </span><a class="entity_ref" href="Algebra.html#Algebra.Univ_def|fact"><span>Univ_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Algebra.Univ_nonempty|fact"><span class="entity_def" id="Algebra.Univ_nonempty|thm"><span>Univ_nonempty</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Algebra.html#Algebra.Univ|const"><span>Univ</span></a><span> </span><span class="free"><span>aa</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span class="main"><a class="entity_ref" href="Quotients.html#Quotients.empty_quotient|const"><span>/∅</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.algebra.Prealgebra|fact"><span>Prealgebra</span></a><span> </span><a class="entity_ref" href="Algebra.html#Algebra.Univ_def|fact"><span>Univ_def</span></a><span> </span><a class="entity_ref" href="Algebra.html#Algebra.is_algebra_def|fact"><span>is_algebra_def</span></a><span> </span><span>mem_Collect_eq</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Algebra.algebra_compatibility|fact"><span class="entity_def" id="Algebra.algebra_compatibility|thm"><span>algebra_compatibility</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Algebra.html#Algebra.shape_compatible_opt|const"><span>shape_compatible_opt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Algebra.html#Algebra.Univ|const"><span>Univ</span></a><span> </span><span class="free"><span>aa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Algebra.html#Algebra.Sig|const"><span>Sig</span></a><span> </span><span class="free"><span>aa</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Algebra.html#Algebra.Ops|const"><span>Ops</span></a><span> </span><span class="free"><span>aa</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Algebra.html#Algebra.Ops_def|fact"><span>Ops_def</span></a><span> </span><a class="entity_ref" href="Algebra.html#Algebra.algebra.Prealgebra|fact"><span>Prealgebra</span></a><span> </span><a class="entity_ref" href="Algebra.html#Algebra.Sig_def|fact"><span>Sig_def</span></a><span> </span><a class="entity_ref" href="Algebra.html#Algebra.Univ_def|fact"><span>Univ_def</span></a><span> </span><a class="entity_ref" href="Algebra.html#Algebra.is_algebra_def|fact"><span>is_algebra_def</span></a><span> </span><span>mem_Collect_eq</span><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>